<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script type="text/javascript" src="/script/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
</head>

<body>
    <% include paritials/navbar.ejs %>

    <div class="">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="/images/carousel1.jpg" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="/images/carousel2.jpg" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <div class="container-fluid pt-3">
        <h1 class="h2">Liked Profile</h1>
        <div>
            <div class="row" id="profiless">

            </div>
        </div>
    </div>
</body>

<script>
    var request1 = new XMLHttpRequest();
    request1.open('GET', '/userTable/getRecommendationUser');
    request1.send();
    request1.onload = function () {
        var data = JSON.parse(request1.responseText);
        for (i in data) {
            addToDom(data[i]);
        }
    }

    function addToDom(obj) {
        console.log(obj)
        var div = document.createElement('div');
        div.setAttribute("class", "col-sm-6")

        var div1 = document.createElement('div');
        div1.setAttribute("class", "card");

        var div2 = document.createElement('div');
        div2.setAttribute("class", "card-body d-flex");

        var div3 = document.createElement('div');
        div3.setAttribute("class", "m-2");

        var img = document.createElement('img');
        img.setAttribute("class", "card-img-top");
        img.style.height = '200px';
        img.style.width = '200px';
        img.src = obj.photourl;

        div3.appendChild(img);

        var div4 = document.createElement('div');
        div4.setAttribute("class", "m-2");

        var h = document.createElement('h5');
        h.setAttribute("class", "card-title");
        h.innerHTML = obj.firstname;

        var p = document.createElement('p');
        p.setAttribute("class", "card-text");
        p.innerHTML = "Description 2";

        var a = document.createElement('a');
        a.src = "#"
        a.setAttribute("class", "btn btn-primary");
        a.innerHTML = "Check details";

        div4.appendChild(h);
        div4.appendChild(p);
        div4.appendChild(a);

        div2.appendChild(div3);
        div2.appendChild(div4);
        div1.appendChild(div2);
        div.appendChild(div1);

        document.getElementById("profiless").appendChild(div);

    }
</script>

</html>